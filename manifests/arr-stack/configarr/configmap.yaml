# Configarr Configuration
# Defines which TRaSH Guide profiles to sync to Sonarr/Radarr
#
# API keys are injected via environment variables using !env tags
# (sourced from arr-api-keys K8s Secret)
#
# Templates reference Recyclarr config-templates repo:
#   https://github.com/recyclarr/config-templates
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: configarr-config
  namespace: arr-stack
  labels:
    app: configarr
data:
  config.yml: |
    sonarr:
      main:
        base_url: http://sonarr.arr-stack.svc:8989
        api_key: !env SONARR_API_KEY

        quality_definition:
          type: series

        include:
          - template: sonarr-quality-definition-series
          # WEB-1080p: streaming-only releases (faster availability, smaller files)
          - template: sonarr-v4-quality-profile-web-1080p
          - template: sonarr-v4-custom-formats-web-1080p
          # HD Bluray + WEB: adds BluRay sources for better quality/availability
          - template: sonarr-v4-quality-profile-hd-bluray-web
          - template: sonarr-v4-custom-formats-hd-bluray-web

        custom_formats: []

    radarr:
      main:
        base_url: http://radarr.arr-stack.svc:7878
        api_key: !env RADARR_API_KEY

        quality_definition:
          type: movie

        include:
          - template: radarr-quality-definition-movie
          # HD Bluray + WEB: standard 1080p movies (BluRay + streaming sources)
          - template: radarr-quality-profile-hd-bluray-web
          - template: radarr-custom-formats-hd-bluray-web
          # UHD Bluray + WEB: 4K movies (BluRay + streaming sources)
          - template: radarr-quality-profile-uhd-bluray-web
          - template: radarr-custom-formats-uhd-bluray-web

        custom_formats: []
