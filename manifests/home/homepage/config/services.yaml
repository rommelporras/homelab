# Homepage Services Configuration
# Docs: https://gethomepage.dev/configs/services/
#
# Layout: Two-Tab Design
# - Tab 1 "Dashboard": Media, Media Tools, Apps, Health
# - Tab 2 "Infrastructure": Compute, Network, Storage, Proxmox, Kubernetes
#
# NOTE: All {{HOMEPAGE_VAR_XXX}} placeholders MUST be quoted to prevent
# YAML special characters (*, @, !) from breaking parsing.

#############################################
# TAB 1: DASHBOARD (daily use)
#############################################

- Media:
    - Jellyfin:
        icon: jellyfin.png
        href: https://jellyfin.k8s.rommelporras.com
        description: Media Server
        statusStyle: dot
        siteMonitor: https://jellyfin.k8s.rommelporras.com
        widget:
          type: jellyfin
          url: https://jellyfin.k8s.rommelporras.com
          key: "{{HOMEPAGE_VAR_JELLYFIN_KEY}}"
          enableBlocks: true
          enableNowPlaying: true

    - Seerr:
        icon: overseerr.png
        href: https://seerr.k8s.rommelporras.com
        description: Media Requests & Discovery
        statusStyle: dot
        siteMonitor: https://seerr.k8s.rommelporras.com
        widget:
          type: overseerr
          url: https://seerr.k8s.rommelporras.com
          key: "{{HOMEPAGE_VAR_SEERR_API_KEY}}"

    - Sonarr:
        icon: sonarr.png
        href: https://sonarr.k8s.rommelporras.com
        description: TV Show Management
        statusStyle: dot
        siteMonitor: https://sonarr.k8s.rommelporras.com
        widget:
          type: sonarr
          url: https://sonarr.k8s.rommelporras.com
          key: "{{HOMEPAGE_VAR_SONARR_API_KEY}}"

    - Radarr:
        icon: radarr.png
        href: https://radarr.k8s.rommelporras.com
        description: Movie Management
        statusStyle: dot
        siteMonitor: https://radarr.k8s.rommelporras.com
        widget:
          type: radarr
          url: https://radarr.k8s.rommelporras.com
          key: "{{HOMEPAGE_VAR_RADARR_API_KEY}}"

    - qBittorrent:
        icon: qbittorrent.png
        href: https://qbit.k8s.rommelporras.com
        description: Download Client
        statusStyle: dot
        siteMonitor: https://qbit.k8s.rommelporras.com
        widget:
          type: qbittorrent
          url: https://qbit.k8s.rommelporras.com
          username: "{{HOMEPAGE_VAR_QBIT_USER}}"
          password: "{{HOMEPAGE_VAR_QBIT_PASS}}"

- Calendar:
    - Upcoming:
        widget:
          type: calendar
          firstDayInWeek: sunday
          view: agenda
          maxEvents: 7
          showTime: true
          timezone: Asia/Manila
          integrations:
            - type: sonarr
              service_group: Media
              service_name: Sonarr
              color: teal
              baseUrl: https://sonarr.k8s.rommelporras.com
              params:
                unmonitored: false
            - type: radarr
              service_group: Media
              service_name: Radarr
              color: yellow
              baseUrl: https://radarr.k8s.rommelporras.com
              params:
                unmonitored: false

- Media Tools:
    - Bazarr:
        icon: bazarr.png
        href: https://bazarr.k8s.rommelporras.com
        description: Subtitle Management
        statusStyle: dot
        siteMonitor: https://bazarr.k8s.rommelporras.com
        widget:
          type: bazarr
          url: https://bazarr.k8s.rommelporras.com
          key: "{{HOMEPAGE_VAR_BAZARR_API_KEY}}"

    - Prowlarr:
        icon: prowlarr.png
        href: https://prowlarr.k8s.rommelporras.com
        description: Indexer Manager
        statusStyle: dot
        siteMonitor: https://prowlarr.k8s.rommelporras.com
        widget:
          type: prowlarr
          url: https://prowlarr.k8s.rommelporras.com
          key: "{{HOMEPAGE_VAR_PROWLARR_API_KEY}}"

    - Tdarr:
        icon: tdarr.png
        href: https://tdarr.k8s.rommelporras.com
        description: Library Transcoding (QSV)
        statusStyle: dot
        siteMonitor: https://tdarr.k8s.rommelporras.com
        widget:
          type: tdarr
          url: https://tdarr.k8s.rommelporras.com

    - Recommendarr:
        icon: mdi-robot-happy-outline
        href: https://recommendarr.k8s.rommelporras.com
        description: AI Recommendations
        statusStyle: dot
        siteMonitor: https://recommendarr.k8s.rommelporras.com

- Apps:
    - Immich:
        icon: immich.png
        href: https://immich.home.rommelporras.com
        description: Photo Management
        statusStyle: dot
        siteMonitor: https://immich.home.rommelporras.com
        widget:
          type: immich
          url: https://immich.home.rommelporras.com
          key: "{{HOMEPAGE_VAR_IMMICH_KEY}}"
          version: 2

    - Karakeep:
        icon: karakeep.png
        href: https://karakeep.k8s.rommelporras.com
        description: Bookmark Manager
        statusStyle: dot
        siteMonitor: https://karakeep.k8s.rommelporras.com
        widget:
          type: karakeep
          url: https://karakeep.k8s.rommelporras.com
          key: "{{HOMEPAGE_VAR_KARAKEEP_KEY}}"

    - Grafana:
        icon: grafana.png
        href: https://grafana.k8s.rommelporras.com
        description: Dashboards & Metrics
        statusStyle: dot
        siteMonitor: https://grafana.k8s.rommelporras.com
        widget:
          type: grafana
          url: https://grafana.k8s.rommelporras.com
          username: "{{HOMEPAGE_VAR_GRAFANA_USER}}"
          password: "{{HOMEPAGE_VAR_GRAFANA_PASS}}"

    - Blog (Prod):
        icon: ghost.png
        href: https://blog.rommelporras.com
        description: blog.rommelporras.com
        statusStyle: dot
        siteMonitor: https://blog.rommelporras.com

    - Blog (Dev):
        icon: ghost.png
        href: https://blog.dev.k8s.rommelporras.com
        description: Ghost Dev Environment
        statusStyle: dot
        siteMonitor: https://blog.dev.k8s.rommelporras.com

    - Firefox Browser:
        icon: firefox.png
        href: https://browser.k8s.rommelporras.com
        description: Persistent Browser (KasmVNC)
        statusStyle: dot
        siteMonitor: https://browser.k8s.rommelporras.com

- Health:
    - Uptime Kuma:
        icon: uptime-kuma.png
        href: https://uptime.k8s.rommelporras.com
        description: Service Monitoring
        statusStyle: dot
        siteMonitor: https://uptime.k8s.rommelporras.com
        widget:
          type: uptimekuma
          url: https://uptime.k8s.rommelporras.com
          slug: homelab

    - Speed Test:
        icon: myspeed.png
        href: https://myspeed.k8s.rommelporras.com
        description: Internet Speed History
        statusStyle: dot
        widget:
          type: myspeed
          url: https://myspeed.k8s.rommelporras.com

    - UPS Status:
        icon: mdi-battery-charging
        href: https://grafana.k8s.rommelporras.com/d/ups-monitoring
        description: CyberPower UPS
        statusStyle: dot
        siteMonitor: https://grafana.k8s.rommelporras.com/d/ups-monitoring

#############################################
# TAB 2: INFRASTRUCTURE (troubleshooting)
#############################################

- Compute:
    - PVE Node:
        icon: proxmox.png
        href: https://pve.home.rommelporras.com
        description: Main Application Server
        statusStyle: dot
        widget:
          type: proxmox
          url: https://pve.home.rommelporras.com
          username: "{{HOMEPAGE_VAR_PROXMOX_PVE_USER}}"
          password: "{{HOMEPAGE_VAR_PROXMOX_PVE_TOKEN}}"
          node: pve

    - Firewall Node:
        icon: proxmox.png
        href: https://firewall.home.rommelporras.com
        description: OPNsense Firewall Host
        statusStyle: dot
        widget:
          type: proxmox
          url: https://firewall.home.rommelporras.com
          username: "{{HOMEPAGE_VAR_PROXMOX_FW_USER}}"
          password: "{{HOMEPAGE_VAR_PROXMOX_FW_TOKEN}}"
          node: firewall

    - k8s-cp1:
        icon: mdi-kubernetes
        href: https://grafana.k8s.rommelporras.com/d/rYdddlPWk/node-exporter-full?var-node=k8s-cp1
        description: Control Plane 1 (10.10.30.11)
        statusStyle: dot
        siteMonitor: http://10.10.30.11:9100/metrics

    - k8s-cp2:
        icon: mdi-kubernetes
        href: https://grafana.k8s.rommelporras.com/d/rYdddlPWk/node-exporter-full?var-node=k8s-cp2
        description: Control Plane 2 (10.10.30.12)
        statusStyle: dot
        siteMonitor: http://10.10.30.12:9100/metrics

    - k8s-cp3:
        icon: mdi-kubernetes
        href: https://grafana.k8s.rommelporras.com/d/rYdddlPWk/node-exporter-full?var-node=k8s-cp3
        description: Control Plane 3 (10.10.30.13)
        statusStyle: dot
        siteMonitor: http://10.10.30.13:9100/metrics

- Network:
    - OPNsense:
        icon: opnsense.png
        href: https://10.10.10.1
        description: Firewall & Router
        statusStyle: dot
        widget:
          type: opnsense
          url: https://10.10.10.1
          username: "{{HOMEPAGE_VAR_OPNSENSE_KEY}}"
          password: "{{HOMEPAGE_VAR_OPNSENSE_SECRET}}"

    - AdGuard (Primary):
        icon: adguard-home.png
        href: https://adguard.k8s.rommelporras.com
        description: DNS Ad-blocker (K8s)
        statusStyle: dot
        widget:
          type: adguard
          url: https://adguard.k8s.rommelporras.com
          username: "{{HOMEPAGE_VAR_ADGUARD_USER}}"
          password: "{{HOMEPAGE_VAR_ADGUARD_PASS}}"

    - AdGuard (Failover):
        icon: adguard-home.png
        href: https://fw-agh.home.rommelporras.com
        description: DNS Failover (LXC)
        statusStyle: dot
        widget:
          type: adguard
          url: https://fw-agh.home.rommelporras.com
          username: "{{HOMEPAGE_VAR_ADGUARD_FW_USER}}"
          password: "{{HOMEPAGE_VAR_ADGUARD_FW_PASS}}"

    - Tailscale:
        icon: tailscale.png
        href: https://login.tailscale.com/admin/machines
        description: Subnet Router (homelab-subnet)
        statusStyle: dot
        siteMonitor: https://login.tailscale.com
        widget:
          type: tailscale
          deviceid: "{{HOMEPAGE_VAR_TAILSCALE_DEVICE}}"
          key: "{{HOMEPAGE_VAR_TAILSCALE_KEY}}"

    - OpenWRT:
        icon: openwrt.png
        href: http://10.10.70.4/cgi-bin/luci/
        description: IoT Network Router
        statusStyle: dot
        widget:
          type: openwrt
          url: http://10.10.70.4
          username: "{{HOMEPAGE_VAR_OPENWRT_USER}}"
          password: "{{HOMEPAGE_VAR_OPENWRT_PASS}}"
          interfaceName: eth0

- Storage:
    - Longhorn:
        icon: longhorn.png
        href: https://longhorn.k8s.rommelporras.com
        description: K8s Distributed Storage
        statusStyle: dot
        siteMonitor: https://longhorn.k8s.rommelporras.com

    - OpenMediaVault:
        icon: openmediavault.png
        href: https://omv.home.rommelporras.com
        description: NAS Management
        statusStyle: dot
        widget:
          type: openmediavault
          url: https://omv.home.rommelporras.com
          username: "{{HOMEPAGE_VAR_OMV_USER}}"
          password: "{{HOMEPAGE_VAR_OMV_PASS}}"
          method: smart.getListBg

    - NAS Disks:
        icon: mdi-harddisk
        href: http://10.10.30.4:61208
        description: 1.8TB NVMe Usage
        statusStyle: dot
        widget:
          type: glances
          url: http://10.10.30.4:61208
          username: "{{HOMEPAGE_VAR_GLANCES_USER}}"
          password: "{{HOMEPAGE_VAR_GLANCES_PASS}}"
          version: 3
          metric: fs:/srv/dev-disk-by-uuid-00ece9b6-d675-4371-82e2-efa6cfd7e589

- Kubernetes:
    - Grafana:
        icon: grafana.png
        href: https://grafana.k8s.rommelporras.com
        description: Observability Platform
        statusStyle: dot
        siteMonitor: https://grafana.k8s.rommelporras.com
        widget:
          type: grafana
          url: https://grafana.k8s.rommelporras.com
          username: "{{HOMEPAGE_VAR_GRAFANA_USER}}"
          password: "{{HOMEPAGE_VAR_GRAFANA_PASS}}"

    - Prometheus:
        icon: prometheus.png
        href: https://prometheus.k8s.rommelporras.com
        description: Metrics & Alert Rules
        statusStyle: dot
        siteMonitor: https://prometheus.k8s.rommelporras.com
        widget:
          type: prometheus
          url: https://prometheus.k8s.rommelporras.com

    - Alertmanager:
        icon: alertmanager.png
        href: https://alertmanager.k8s.rommelporras.com
        description: Alert Routing & Silences
        statusStyle: dot
        siteMonitor: https://alertmanager.k8s.rommelporras.com
        widget:
          type: prometheusmetric
          url: https://prometheus.k8s.rommelporras.com
          refreshInterval: 30000
          metrics:
            - label: Firing
              query: count(ALERTS{alertstate="firing", alertname!="Watchdog"}) or vector(0)
              format:
                type: number
                options:
                  maximumFractionDigits: 0
            - label: Pending
              query: count(ALERTS{alertstate="pending"}) or vector(0)
              format:
                type: number
                options:
                  maximumFractionDigits: 0

    - Longhorn:
        icon: longhorn.png
        href: https://longhorn.k8s.rommelporras.com
        description: Distributed Block Storage
        statusStyle: dot
        siteMonitor: https://longhorn.k8s.rommelporras.com

    - AdGuard Home:
        icon: adguard-home.png
        href: https://adguard.k8s.rommelporras.com
        description: DNS & Ad Blocking
        statusStyle: dot
        widget:
          type: adguard
          url: https://adguard.k8s.rommelporras.com
          username: "{{HOMEPAGE_VAR_ADGUARD_USER}}"
          password: "{{HOMEPAGE_VAR_ADGUARD_PASS}}"

    - Homepage:
        icon: homepage.png
        href: https://portal.k8s.rommelporras.com
        description: This Dashboard
        statusStyle: dot
        siteMonitor: https://portal.k8s.rommelporras.com
